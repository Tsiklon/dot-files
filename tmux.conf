# split panes using | and -
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# switch panes using Alt-arrow without prefix
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Enable mouse mode
set -g mouse on

# don't rename windows automatically
set-option -g allow-rename off

### New Pane controls
# move down a single pane
bind j select-pane -D
# move up a single pane
bind k select-pane -U
# move left a single pane
bind h select-pane -L
# move right a single pane
bind l select-pane -R

# Resize panes simply   
bind -r J resize-pane -D 5 # C-b J - Down
bind -r K resize-pane -U 5 # C-b K - Up
bind -r H resize-pane -L 5 # C-b H - Left
bind -r L resize-pane -R 5 # C-b L - Right

# Make it more obvious which pane is active
set -g pane-border-fg white
set -g pane-active-border-fg cyan
set -g pane-active-border-bg cyan

# Navigate between windows and show/hide the status bar
bind-key -n S-Up set-option -g status
bind-key -n S-Down set-option -g status
bind-key -n S-Left previous-window
bind-key -n S-Right next-window

# status bar color tweaks
set-option -g status-fg white
set-option -g status-bg default
set-option -g status-attr default

# window color tweaks
set-window-option -g window-status-fg "#666666"
set-window-option -g window-status-bg default
set-window-option -g window-status-attr default
set-window-option -g window-status-current-fg red
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr default

# message colors (as in when killing a pane)
set-option -g message-fg white
set-option -g message-bg black
set-option -g message-attr bright

# get rid of the tmux instance number at the left of the status bar
#set -g status-left " "

# get rid of the hostname in the status right
set -g status-right '#(date "+%H:%M %Y-%b-%d")'

# get rid of the number and * beside the active window and inactive windows
setw -g window-status-current-format '#W'
setw -g window-status-format '#W'

# get powerline status working
source "/usr/local/lib/python3.6/site-packages/powerline/bindings/tmux/powerline.conf"

# Use vim keybindings in copy mode
setw -g mode-keys vi

# Setup 'v' to begin selection as in Vim
bind-key -T copy-mode-vi v send-keys -X begin-selection
#bind-key -T copy-mode-vi y send-keys -X copy-pipe "reattach-to-user-namespace pbcopy"
bind-key -T copy-mode-vi y send-keys -X copy-pipe "pbcopy"

# Update default binding of `Enter` to also use send-keys -X copy-pipe
unbind -T copy-mode-vi Enter
#bind-key -T copy-mode-vi Enter send-keys -X copy-pipe "reattach-to-user-namespace pbcopy"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe "pbcopy"

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1
